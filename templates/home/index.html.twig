{% extends 'base.html.twig' %}

{% block body %}
    <div class="container-xl mt-1">
        <div class="row gy-5">
            <div class="col-12">
                <div class="home-header">
                    <h1 class="h3">Kalendarz</h1>
                    {% if userGames|length > 0 %}
                        <h2 class="h3"> - Twoje sesje:</h2>
                        <ul class="list-group list-group-horizontal">
                            {% for game in userGames %}
                                <li class="list-group-item">{{ game.name }}</li>
                            {% endfor %}
                        </ul>
                    {% else %}
                        <p>Nie jesteś zapisany do żadnej gry.</p>
                    {% endif %}
                </div>
            </div>
            <div class="col-12 py-5 mb-5 card text-white bg-primary" id="calendar-wrapper">
                <div 
                    id="calendar"
                    class="js-calendar home-calendar"
                    data-type="home"
                    data-options='{
                        "initialView": "dayGridMonth",
                        "events": "/calendar/events"
                    }'
                ></div>
            </div>
        </div>
    </div>
<script>
    window.commonDates = {{ commonDates|json_encode|raw }};
    window.gameOptions = {{ gameOptions|json_encode|raw }};
    window.sessionsDays = {{ sessionsDays|json_encode|raw }};
</script>
<div class="modal fade" id="cancelSessionModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Potwierdzenie</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        Czy na pewno chcesz odwołać te sesję?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
          Anuluj
        </button>
        <button type="button" class="btn btn-danger" id="cancelSessionBtn">
          Tak, odwołaj
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock %}
